(function(){"use strict";var e={7313:function(e,a,t){var o=t(5130),n=t(6768);function s(e,a,t,o,s,r){const l=(0,n.g2)("Navbar"),u=(0,n.g2)("router-view"),i=(0,n.g2)("Toast"),d=(0,n.g2)("UserContextProvider");return(0,n.uX)(),(0,n.Wv)(d,null,{default:(0,n.k6)((()=>[(0,n.bF)(l),(0,n.bF)(u),(0,n.bF)(i)])),_:1})}var r=t(4232);const l={class:"navbar"},u={class:"nav-links"},i={class:"user"};function d(e,a,t,o,s,d){const c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("nav",l,[a[3]||(a[3]=(0,n.Lk)("a",{href:"/",class:"home-link"},[(0,n.Lk)("h1",null,"Moja TODO aplikacija")],-1)),(0,n.Lk)("div",u,[o.user?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("span",i,"Pozdravljen, "+(0,r.v_)(o.user)+"!",1),(0,n.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>o.logout&&o.logout(...e)),class:"logout-btn"},"Odjava")],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(c,{to:"/register",class:"nav-link"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("Registracija")]))),_:1}),(0,n.bF)(c,{to:"/login",class:"nav-link"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("Prijava")]))),_:1})],64))])])}var c={name:"Navbar",setup(){const e=(0,n.WQ)("user"),a=(0,n.WQ)("logout");return{user:e,logout:a}}},v=t(1241);const p=(0,v.A)(c,[["render",d],["__scopeId","data-v-b8a2651a"]]);var k=p;function f(e,a,t,o,s,r){return(0,n.RG)(e.$slots,"default")}var m=t(144),b={name:"UserContextProvider",setup(){const e=(0,m.KR)(localStorage.getItem("username")||null),a=(0,m.KR)(localStorage.getItem("user_id")||null);function t(a,t){localStorage.setItem("username",a),e.value=a,localStorage.setItem("user_id",t)}function o(){localStorage.removeItem("username"),localStorage.removeItem("user_id"),e.value=null}return(0,n.Gt)("user",e),(0,n.Gt)("login",t),(0,n.Gt)("logout",o),(0,n.Gt)("user_id",a),(0,n.sV)((()=>{e.value=localStorage.getItem("username")||null})),{user:e,login:t,logout:o,user_id:a}}};const g=(0,v.A)(b,[["render",f]]);var y=g;const h={key:0,class:"toast"};function T(e,a,t,s,l,u){return(0,n.uX)(),(0,n.Wv)(o.eB,{name:"fade"},{default:(0,n.k6)((()=>[s.toastVisible?((0,n.uX)(),(0,n.CE)("div",h,(0,r.v_)(s.toastMessage),1)):(0,n.Q3)("",!0)])),_:1})}var _={name:"Toast",setup(){const e=(0,n.WQ)("toastMessage"),a=(0,n.WQ)("toastVisible");return{toastMessage:e,toastVisible:a}}};const L=(0,v.A)(_,[["render",T],["__scopeId","data-v-5ff6bbb8"]]);var j=L;function C(){const e=(0,m.KR)(""),a=(0,m.KR)(!1);function t(t,o=3e3){e.value=t,a.value=!0,setTimeout((()=>{a.value=!1}),o)}return{message:e,isVisible:a,showToast:t}}var w={name:"App",components:{Navbar:k,UserContextProvider:y,Toast:j},setup(){const{message:e,isVisible:a,showToast:t}=C();return(0,n.Gt)("toastMessage",e),(0,n.Gt)("toastVisible",a),(0,n.Gt)("showToast",t),{}}};const D=(0,v.A)(w,[["render",s]]);var I=D,E=t(1387);const U={class:"form-container"},x={key:0};function A(e,a,t,s,l,u){return(0,n.uX)(),(0,n.CE)("div",U,[a[6]||(a[6]=(0,n.Lk)("h2",null,"Registracija",-1)),(0,n.Lk)("form",{onSubmit:a[2]||(a[2]=(0,o.D$)(((...e)=>u.registerUser&&u.registerUser(...e)),["prevent"]))},[a[3]||(a[3]=(0,n.Lk)("label",null,"Uporabniško ime:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>l.username=e),required:""},null,512),[[o.Jo,l.username]]),a[4]||(a[4]=(0,n.Lk)("label",null,"Geslo:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>l.password=e),required:""},null,512),[[o.Jo,l.password]]),a[5]||(a[5]=(0,n.Lk)("button",{type:"submit"},"Registriraj se",-1))],32),l.message?((0,n.uX)(),(0,n.CE)("p",x,(0,r.v_)(l.message),1)):(0,n.Q3)("",!0)])}var R=t(4373),O={name:"RegisterView",data(){return{username:"",password:"",message:""}},methods:{async registerUser(){try{const e="http://localhost:5000";console.log("📌 API_URL:",e);const a=await R.A.post(`${e}/auth/register`,{username:this.username,password:this.password});this.message=a.data.message}catch(e){this.message=e.response?.data?.message||"Napaka pri registraciji."}}}};const X=(0,v.A)(O,[["render",A],["__scopeId","data-v-dbfbaa7a"]]);var P=X;const K={class:"form-container"},Q={key:0};function V(e,a,t,s,l,u){return(0,n.uX)(),(0,n.CE)("div",K,[a[6]||(a[6]=(0,n.Lk)("h2",null,"Prijava",-1)),(0,n.Lk)("form",{onSubmit:a[2]||(a[2]=(0,o.D$)(((...e)=>s.loginUser&&s.loginUser(...e)),["prevent"]))},[a[3]||(a[3]=(0,n.Lk)("label",null,"Uporabniško ime:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.username=e),required:""},null,512),[[o.Jo,s.username]]),a[4]||(a[4]=(0,n.Lk)("label",null,"Geslo:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),required:""},null,512),[[o.Jo,s.password]]),a[5]||(a[5]=(0,n.Lk)("button",{type:"submit"},"Prijava",-1))],32),s.message?((0,n.uX)(),(0,n.CE)("p",Q,(0,r.v_)(s.message),1)):(0,n.Q3)("",!0)])}t(4114);var W={name:"LoginView",setup(){const e=(0,m.KR)(""),a=(0,m.KR)(""),t=(0,m.KR)(""),o=(0,E.rd)(),s=(0,n.WQ)("login"),r="http://192.168.0.12/:5000";async function l(){if(e.value&&a.value)try{const n=await R.A.post(`${r}/auth/login`,{username:e.value,password:a.value});localStorage.setItem("user_id",n.data.user_id),localStorage.setItem("username",n.data.username),s(n.data.username,n.data.user_id),t.value="✅ Prijava uspešna!",o.push("/dashboard")}catch(n){t.value="❌ Napaka pri prijavi.",console.error(n)}else t.value="Vnesite uporabniško ime in geslo!"}return{username:e,password:a,message:t,loginUser:l}}};const S=(0,v.A)(W,[["render",V],["__scopeId","data-v-6edb61b0"]]);var $=S;const N={class:"dashboard"};function F(e,a,t,o,s,l){const u=(0,n.g2)("router-link"),i=(0,n.g2)("GetTask");return(0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("h2",null,"Dobrodošel, "+(0,r.v_)(o.username)+"!",1),a[1]||(a[1]=(0,n.Lk)("p",null,"Tukaj preveri svoje podatke in objave",-1)),(0,n.bF)(u,{to:"/create",class:"btn"},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)(" Dodaj Opravilo")]))),_:1}),(0,n.bF)(i)])}t(8992),t(4520);const G={class:"task-list"},M={class:"date-navigation"},J={class:"filters"},z={key:0,class:"message"};function q(e,a,t,s,l,u){const i=(0,n.g2)("TaskItem");return(0,n.uX)(),(0,n.CE)("div",G,[a[9]||(a[9]=(0,n.Lk)("h3",null,"📝 Moja opravila",-1)),(0,n.Lk)("div",M,[(0,n.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>s.prevDay&&s.prevDay(...e)),title:"Prejšnji dan"},a[7]||(a[7]=[(0,n.Lk)("i",null," ⬅️ ",-1)])),(0,n.Lk)("span",null,(0,r.v_)(s.formattedDate),1),(0,n.Lk)("button",{onClick:a[1]||(a[1]=(...e)=>s.nextDay&&s.nextDay(...e)),title:"Naslednji dan"},a[8]||(a[8]=[(0,n.Lk)("i",null,"➡️",-1)])),(0,n.Lk)("button",{onClick:a[2]||(a[2]=(...e)=>s.goToToday&&s.goToToday(...e)),class:"today-btn",title:"Današnji dan"}," 📅 Danes ")]),(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=e=>s.searchQuery=e),placeholder:"Išči po opravilih...",class:"search-box"},null,512),[[o.Jo,s.searchQuery]]),(0,n.Lk)("div",J,[(0,n.Lk)("button",{onClick:a[4]||(a[4]=e=>s.filter="all"),class:(0,r.C4)({active:"all"===s.filter})},"🔎 Vse",2),(0,n.Lk)("button",{onClick:a[5]||(a[5]=e=>s.filter="done"),class:(0,r.C4)({active:"done"===s.filter})},"✅ Dokončane",2),(0,n.Lk)("button",{onClick:a[6]||(a[6]=e=>s.filter="undone"),class:(0,r.C4)({active:"undone"===s.filter})},"⏳ Nedokončane",2)]),(0,n.bF)(o.F,{name:"fade"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.filteredTasks,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,r.C4)(["task-card",{completed:e.done}])},[(0,n.bF)(i,{taskText:e.task,taskId:e.id,taskDone:e.done,taskDate:e.date,onTaskUpdated:s.updateTask,onTaskDeleted:s.deleteTask},null,8,["taskText","taskId","taskDone","taskDate","onTaskUpdated","onTaskDeleted"])],2)))),128))])),_:1}),s.message?((0,n.uX)(),(0,n.CE)("p",z,(0,r.v_)(s.message),1)):(0,n.Q3)("",!0)])}t(2577);const B={class:"task"},H={class:"buttons"},Y={class:"task-buttons"};function Z(e,a,t,s,l,u){return(0,n.uX)(),(0,n.CE)("div",B,[s.isEditing?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.editableText=e),ref:"editInput"},null,512),[[o.Jo,s.editableText]]),(0,n.Lk)("div",H,[(0,n.Lk)("button",{class:"save-btn",onClick:a[1]||(a[1]=(...e)=>s.saveEdit&&s.saveEdit(...e))},"💾"),(0,n.Lk)("button",{class:"cancel-btn",onClick:a[2]||(a[2]=(...e)=>s.cancelEdit&&s.cancelEdit(...e))},"❌")])],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("p",null,(0,r.v_)(t.taskText),1),(0,n.Lk)("div",Y,[t.taskDone?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("button",{key:0,class:"done-btn",onClick:a[3]||(a[3]=(...e)=>s.markAsDone&&s.markAsDone(...e))},"✔")),t.taskDone?((0,n.uX)(),(0,n.CE)("button",{key:1,class:"undo-btn",onClick:a[4]||(a[4]=(...e)=>s.undoTask&&s.undoTask(...e))},"🔄")):(0,n.Q3)("",!0),(0,n.Lk)("button",{class:"delete-btn",onClick:a[5]||(a[5]=(...e)=>s.deleteTask&&s.deleteTask(...e))},"🗑"),(0,n.Lk)("button",{class:"edit-btn",onClick:a[6]||(a[6]=(...e)=>s.startEditing&&s.startEditing(...e))},"✏️")])],64))])}var ee={name:"TaskItem",props:{taskId:Number,taskText:String,taskDone:Boolean},setup(e,{emit:a}){const t=(0,m.KR)(!1),o=(0,m.KR)(e.taskText),s=(0,m.KR)(e.taskText),r=(0,m.KR)(null),l=(0,n.WQ)("showToast"),u="http://192.168.1.100:5000";function i(){t.value=!0,s.value=e.taskText,(0,n.dY)((()=>r.value?.focus()))}async function d(){if(""===o.value.trim())return o.value=s.value,void(t.value=!1);try{await R.A.put(`${u}/api/todos/${e.taskId}`,{task:o.value}),a("taskUpdated",e.taskId,o.value),t.value=!1,l("✅ Opravilo uspešno posodobljeno!")}catch(n){console.error("❌ Napaka pri shranjevanju:",n)}}function c(){o.value=s.value,t.value=!1}async function v(){try{await R.A.put(`${u}/api/todos/${e.taskId}`,{done:!0}),a("taskUpdated",e.taskId,e.taskText,!0),l("✔ Opravilo označeno kot opravljeno!")}catch(t){console.error("❌ Napaka pri označevanju kot opravljeno:",t)}}async function p(){try{await R.A.put(`${u}/api/todos/${e.taskId}`,{done:!1}),a("taskUpdated",e.taskId,e.taskText,!1),l("🔄 Opravilo označeno kot nedokončano!")}catch(t){console.error("❌ Napaka pri razveljavitvi opravila:",t)}}async function k(){try{await R.A.delete(`${u}/api/todos/${e.taskId}`),a("taskDeleted",e.taskId),l("🗑 Opravilo izbrisano!")}catch(t){console.error("❌ Napaka pri brisanju opravila:",t)}}return console.log("📌 API_URL:",u),(0,n.wB)((()=>e.taskText),(e=>{o.value=e,s.value=e})),{isEditing:t,editableText:o,startEditing:i,saveEdit:d,cancelEdit:c,editInput:r,markAsDone:v,undoTask:p,deleteTask:k}}};const ae=(0,v.A)(ee,[["render",Z],["__scopeId","data-v-58d4c06d"]]);var te=ae,oe=t(3848),ne=t(7164),se=t(4605),re={name:"GetTask",components:{TaskItem:te},setup(){const e=(0,m.KR)([]),a=(0,m.KR)(""),t=(0,n.WQ)("user_id"),o=(0,m.KR)(""),s=(0,m.KR)("all"),r=(0,m.KR)(new Date),l=(0,n.EW)((()=>(0,oe.GP)(r.value,"yyyy-MM-dd"))),u="http://192.168.1.100:5000";async function i(){if(t.value)try{console.log(`📌 Pridobivam opravila za datum: ${l.value}`);const a=await R.A.get(`${u}/api/todos`,{params:{user_id:t.value,start_date:l.value,end_date:l.value}});e.value=a.data}catch(a){console.error("❌ Napaka pri pridobivanju opravil:",a)}}async function d(a){let o;if(o="string"===typeof a?a:a.dataTransfer.getData("text"),o&&t.value)try{const a={task:o,done:!1,user_id:t.value,date:l.value},n=await R.A.post("${API_URL}/api/todos",a);console.log("✅ Opravilo uspešno dodano!",n.data),e.value.push(n.data)}catch(n){console.error("❌ Napaka pri dodajanju opravila:",n)}}function c(a,t,o){const n=e.value.find((e=>e.id===a));n&&(n.task=t,n.done=o)}function v(t){e.value=e.value.filter((e=>e.id!==t)),a.value="🗑 Opravilo izbrisano!"}console.log("📌 API_URL:",u);const p=(0,n.EW)((()=>e.value.filter((e=>e.task.toLowerCase().includes(o.value.toLowerCase()))).filter((e=>"done"===s.value?e.done:"undone"!==s.value||!e.done))));function k(){r.value=(0,ne.e)(r.value,1)}function f(){r.value=(0,se.f)(r.value,1)}function b(){r.value=new Date}return(0,n.wB)(l,i),(0,n.sV)(i),{dropTask:d,tasks:e,message:a,updateTask:c,deleteTask:v,searchQuery:o,filter:s,filteredTasks:p,formattedDate:l,prevDay:k,nextDay:f,goToToday:b}}};const le=(0,v.A)(re,[["render",q],["__scopeId","data-v-0a50082c"]]);var ue=le,ie={name:"Dashboard",components:{GetTask:ue},setup(){const e=localStorage.getItem("username"),a=(0,n.WQ)("logout");return{username:e,logout:a}}};const de=(0,v.A)(ie,[["render",F],["__scopeId","data-v-c4f1e09c"]]);var ce=de;const ve={class:"home"},pe={class:"buttons"};function ke(e,a,t,o,s,r){const l=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",ve,[a[3]||(a[3]=(0,n.Lk)("h2",null,"Dobrodošli v TODO aplikaciji!",-1)),a[4]||(a[4]=(0,n.Lk)("p",null,"Upravljajte svoje naloge in ostanite organizirani.",-1)),(0,n.Lk)("div",pe,[o.user?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(l,{key:0,to:"/register",class:"btn"},{default:(0,n.k6)((()=>a[0]||(a[0]=[(0,n.eW)("📝 Registracija")]))),_:1})),o.user?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(l,{key:1,to:"/login",class:"btn"},{default:(0,n.k6)((()=>a[1]||(a[1]=[(0,n.eW)("🔐 Prijava")]))),_:1})),o.user?((0,n.uX)(),(0,n.Wv)(l,{key:2,to:"/dashboard",class:"btn dashboard-btn"},{default:(0,n.k6)((()=>a[2]||(a[2]=[(0,n.eW)("📋 Moj Dashboard")]))),_:1})):(0,n.Q3)("",!0)])])}console.log("http://localhost:5000");var fe={name:"HomeView",setup(){const e=(0,n.WQ)("user");return{user:e}}};const me=(0,v.A)(fe,[["render",ke],["__scopeId","data-v-1251f9da"]]);var be=me;const ge={class:"create-task"},ye={key:0};function he(e,a,t,s,l,u){return(0,n.uX)(),(0,n.CE)("div",ge,[a[4]||(a[4]=(0,n.Lk)("h2",null,"Dodaj novo opravilo",-1)),(0,n.Lk)("form",{onSubmit:a[2]||(a[2]=(0,o.D$)(((...e)=>s.createTask&&s.createTask(...e)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=e=>s.task=e),placeholder:"Vnesi opravilo",required:""},null,512),[[o.Jo,s.task]]),(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=a=>e.taskDate=a),placeholder:""},null,512),[[o.Jo,e.taskDate]]),a[3]||(a[3]=(0,n.Lk)("button",{type:"submit"},"Dodaj",-1))],32),s.message?((0,n.uX)(),(0,n.CE)("p",ye,(0,r.v_)(s.message),1)):(0,n.Q3)("",!0)])}var Te={name:"CreateTaskView",setup(){const e=(0,m.KR)(""),a=(0,m.KR)(""),t=(0,E.rd)(),o=(0,n.WQ)("user_id"),s=(0,m.KR)((0,oe.GP)(new Date,"yyyy-MM-dd")),r="http://192.168.1.100:5000";async function l(){try{if(!o||null===o.value)return console.error("❌ Uporabnik ni prijavljen!"),void(a.value="❌ Za dodajanje opravil se morate prijaviti!");console.log("📌 DEBUG: Pošiljam opravilo na backend...");const n={task:e.value,done:!1,user_id:o.value,date:s.value};console.log("📌 JSON:",JSON.stringify(n));const r=await R.A.post("${API_URL}/api/todos",n);console.log("✅ Opravilo uspešno dodano!",r.data),a.value="✅ Opravilo uspešno dodano!",e.value="",setTimeout((()=>{t.push("/dashboard")}),1500)}catch(n){console.error("❌ Napaka pri ustvarjanju opravila:",n.response),n.response?a.value=`❌ Napaka: ${n.response.data.msg||n.response.data.message}`:a.value="❌ Prišlo je do napake!"}}return console.log("📌 API_URL:",r),{task:e,message:a,createTask:l}}};const _e=(0,v.A)(Te,[["render",he],["__scopeId","data-v-679f374a"]]);var Le=_e;const je=[{path:"/",component:be},{path:"/register",component:P},{path:"/login",component:$},{path:"/dashboard",component:ce},{path:"/create",component:Le}],Ce=(0,E.aE)({history:(0,E.LA)(),routes:je});var we=Ce,De=t(782),Ie=(0,De.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,o.Ef)(I).use(Ie).use(we).mount("#app")}},a={};function t(o){var n=a[o];if(void 0!==n)return n.exports;var s=a[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(a,o,n,s){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],s=e[d][2];for(var l=!0,u=0;u<o.length;u++)(!1&s||r>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[u])}))?o.splice(u--,1):(l=!1,s<r&&(r=s));if(l){e.splice(d--,1);var i=n();void 0!==i&&(a=i)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,n,s]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,o){var n,s,r=o[0],l=o[1],u=o[2],i=0;if(r.some((function(a){return 0!==e[a]}))){for(n in l)t.o(l,n)&&(t.m[n]=l[n]);if(u)var d=u(t)}for(a&&a(o);i<r.length;i++)s=r[i],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(d)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(a.bind(null,0)),o.push=a.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(7313)}));o=t.O(o)})();
//# sourceMappingURL=app.609aea99.js.map